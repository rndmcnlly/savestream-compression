<html>
  <head>
    <style>
      #report_area {
        border: thin solid black;
        border-radius: 1ex;
        margin: 1ex;
        padding: 1ex;
      }
    </style>
  </head>
  <body>
    <!-- We want a button you cna press to select a bunch of files
     https://developer.mozilla.org/en-US/docs/Web/API/Window/showOpenFilePicker

      -->

    <!-- Once the files are selected, we should produce some report about them
        Maybe their sizes -->

    <button id="load_files_button">load files</button>

    <div id="report_area">
    Load files to see a report about them.
    </div>
    
    <script>
      let button = document.getElementById("load_files_button");
      button.onclick = async function() {
        const handles = await window.showOpenFilePicker({
          multiple: true
        });
        
        const reportArea = document.getElementById("report_area");
        reportArea.innerHTML = "";
        
        
        for (let handle of handles) {
          let file = await handle.getFile();
          let buffer = await file.arrayBuffer();
          let dataView = new DataView(buffer);
          let magic = dataView.getUint32(0);
          
          const div = document.createElement("div");
          div.innerHTML = file.name + JSON.stringify({length: buffer.byteLength, magic});
          reportArea.append(div);
        }
      };
      
    </script>
  </body>
</html>
